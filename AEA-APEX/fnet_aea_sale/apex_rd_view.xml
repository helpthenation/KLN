<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data> 
   
        <!-- Scheme Details --> 
        
        <record id="view_rd_scheme_form" model="ir.ui.view">
            <field name="name">view.rd.scheme.form</field>
            <field name="model">rd.scheme</field>
            <field name="arch" type="xml">
                <form string="RD Scheme">
                    <header>
                        <button name="scheme_open" string="Scheme Open" type="object" states="draft" groups="base.group_sale_manager" class="oe_highlight"/>
                        <button name="scheme_close" string="Scheme Closed" type="object" states="draft,progress" groups="base.group_sale_manager" class="oe_highlight"/>
                        <button name="cancel" string="Cancel" type="object" states="progress" groups="base.group_sale_manager" class="oe_highlight"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,progress,done" statusbar_colors='{"cancel":"red","progress":"blue"}'/>
                    </header>
                    <sheet>
                        <div class="oe_title oe_left">
                            <div class="oe_edit_only">
                                <label for="name"/>
                            </div>
                        <h1>
                            <field name="name" default_focus="1"/>
                        </h1>
                        </div>
                        <group>
                            <group>
                                <field name="prod_categ_id" domain="[('visible','=',True)]" on_change="onchange_prod_categ_id(prod_categ_id,company_id,context)" />
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                            <group>
                                <field name="period_id"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Scheme Lines">
                                <field name="rd_scheme_line">
                                    <tree string="Scheme Line" editable="bottom">
                                        <field name="product_id" on_change="onchange_product_id(product_id)"/>
                                        <field name="uom_id"/>
                                        <field name="invoice_price"/>
                                        <field name="mrp_price"/>
                                        <field name="scheme_qty"/>
                                        <field name="scheme_price"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                     </sheet>
                 </form>
           </field>
       </record>
       
      <record id="view_rd_scheme_tree" model="ir.ui.view">
            <field name="name">view.rd.scheme.tree</field>
            <field name="model">rd.scheme</field>
            <field name="arch" type="xml">
                <tree string="RD Scheme">
                    <field name="prod_categ_id"/>
                    <field name="period_id"/>
                    <field name="state"/>
                 </tree>
           </field>
       </record>
       
      <record id="view_rd_scheme_search" model="ir.ui.view">
            <field name="name">view.rd.scheme.search</field>
            <field name="model">rd.scheme</field>
            <field name="arch" type="xml">
                <search string="RD Scheme">
                    <field name="prod_categ_id"/>
                    <separator/>
                    <filter string="Draft" name="draft" domain="[('state','in',('draft'))]"/>
                    <filter string="Progress" name="progress" domain="[('state','in',('progress'))]"/>
                    <filter string="Cancel" domain="[('state','=','cancel')]"/>
                    <filter string="Scheme Closed" domain="[('state','=','done')]" help="Sales Order done"/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter string="Category" domain="[]" context="{'group_by':'prod_categ_id'}"/>
                        <filter string="Scheme Month" domain="[]" context="{'group_by':'date'}"/>
                    </group>
                 </search>
           </field>
       </record>
      
       <record id="action_view_rd_scheme" model="ir.actions.act_window">
            <field name="name">RD Scheme</field>
            <field name="res_model">rd.scheme</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="view_id" ref="view_rd_scheme_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click here to define a Scheme Launch.
                </p><p>
                    Create Scheme Launch
                </p>
            </field>
        </record> 
     
        
     <menuitem id="menu_rd" 
               name="RD Scheme"
               parent="fnet_aea_crm.menu_sale_master" 
               sequence="10"/>
               
     <menuitem id="menu_pjc" 
               name="PJC"
               parent="fnet_aea_crm.menu_sale_master" 
               sequence="11"/>
                
     <menuitem action="action_view_rd_scheme"
               id="menu_rd_scheme" 
               name="RD Scheme Launch"
               groups="base.group_sale_manager"
               parent="menu_rd" 
               sequence="1"/>  
               
           <!-- Scheme Entry -->    
          <record id="view_scheme_entry_form" model="ir.ui.view">
            <field name="name">view.scheme.entry.form</field>
            <field name="model">scheme.entry</field>
            <field name="arch" type="xml">
                <form string="Scheme Entry">
                    <header>
                         <button name="submit" string="Submit" type="object" states="progress" groups="base.group_sale_manager" class="oe_highlight"/>
                         <button name="generate" string="Generate" type="object" states="draft" groups="base.group_sale_manager" class="oe_highlight"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,progress,done" statusbar_colors='{"cancel":"red","progress":"blue"}'/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="manager_id" domain="[('sale_manager', '=', True)]" on_change="onchange_manager_id(manager_id,company_id)"/>
                                <field name="sr_id" domain="[('sale_manager', '=', False)]" on_change="onchange_sr_id(sr_id,company_id)"/>
                                <field name="partner_id" domain="[('customer','=',True)]"/>
                                <field name="prod_categ_id" domain="[('visible','=',True)]"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                            <group>
                                <field name="scheme_id" domain="[('state', '=', 'progress')]"/>
                                <field name="period_id"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Scheme Lines">
                                <field name="scheme_entry_line">
                                    <tree string="Scheme Line" editable="bottom">
                                        <field name="product_id" on_change="onchange_product_id(product_id)" domain="[('categ_id','=',parent.prod_categ_id)]"/>
                                        <field name="uom_id"/>
                                        <field name="amount"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                     </sheet>
                 </form>
           </field>
       </record>
       
      <record id="view_scheme_entry_tree" model="ir.ui.view">
            <field name="name">view.scheme.entry.tree</field>
            <field name="model">scheme.entry</field>
            <field name="arch" type="xml">
                <tree string="Scheme Line">
                    <field name="period_id"/>
                    <field name="manager_id"/>
                    <field name="sr_id"/>
                    <field name="prod_categ_id"/>
                    <field name="partner_id"/>
                    <field name="state" invisible="1"/>
                 </tree>
           </field>
       </record>
       
      <record id="view_scheme_entry_search" model="ir.ui.view">
            <field name="name">view.scheme.entry.search</field>
            <field name="model">scheme.entry</field>
            <field name="arch" type="xml">
                <search string="Scheme Entry">
                    <field name="prod_categ_id" string="Category"/>
                    <field name="partner_id" string="Customer"/>
                    <field name="sr_id" string="Sales Representative"/>
                    <separator/>
                    <filter string="Submitted" domain="[('state','=','done')]" help="Sales Order done"/>
                    <filter string="Sbmit" domain="[('state','=','draft')]" help="Sales Order done"/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter string="Category" domain="[]" context="{'group_by':'prod_categ_id'}"/>
                        <filter string="Scheme Month" domain="[]" context="{'group_by':'period_id'}"/>
                        <filter string="Manager" domain="[]" context="{'group_by':'manager_id'}"/>
                        <filter string="Sales Representative" domain="[]" context="{'group_by':'sr_id'}"/>
                        <filter string="Stokiest" domain="[]" context="{'group_by':'partner_id'}"/>
                    </group>
                 </search>
           </field>
       </record>
      
       <record id="action_view_scheme_entry" model="ir.actions.act_window">
            <field name="name">Scheme Entry</field>
            <field name="res_model">scheme.entry</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="view_id" ref="view_scheme_entry_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click here to define a Scheme Entry.
                </p><p>
                    Create Scheme Launch
                </p>
            </field>
        </record> 
     
                
     <menuitem action="action_view_scheme_entry"
               id="menu_scheme_entry" 
               name="Scheme Entry"
               groups="base.group_sale_salesman,base.group_sale_manager"
               parent="menu_rd" 
               sequence="4"/> 
               
          <!-- Scheme Final --> 
          
        <record id="view_scheme_entry_total_form" model="ir.ui.view">
            <field name="name">view.scheme.entry.total.form</field>
            <field name="model">scheme.entry.total</field>
            <field name="arch" type="xml">
                <form string="Scheme Entry Total">
                    <sheet>
                        <group>
                            <group>
                                <field name="manager_id"/>
                                <field name="sr_id"/>
                                <field name="partner_id"/>
                                <field name="prod_categ_id"/>
                                <field name="product_id"/>
                                <field name="uom_id"/>
                                <field name="amount"/>
                                <field name="value"/>
                                <field name="total"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                            <group>
                                <field name="scheme_id"/>
                                <field name="period_id"/>
                            </group>
                        </group>
                     </sheet>
                 </form>
           </field>
       </record>
       
      <record id="view_scheme_entry_total_tree" model="ir.ui.view">
            <field name="name">view.scheme.entry.total.tree</field>
            <field name="model">scheme.entry.total</field>
            <field name="arch" type="xml">
                <tree string="Scheme Entry Total">
                    <field name="scheme_id"/>
                    <field name="period_id"/>
                    <field name="sr_id"/>
                    <field name="partner_id"/>
                    <field name="prod_categ_id"/>
                    <field name="product_id"/>
                    <field name="uom_id"/>
                    <field name="amount"/>
                    <field name="value"/>
                    <field name="total"/>
                    <field name="credit"/>
                 </tree>
           </field>
       </record>
       
      <record id="view_scheme_entry_total_search" model="ir.ui.view">
            <field name="name">view.scheme.entry.total.search</field>
            <field name="model">scheme.entry.total</field>
            <field name="arch" type="xml">
                <search string="Scheme Entry Total">
                    <field name="prod_categ_id" string="Category"/>
                    <field name="partner_id" string="Stokiest"/>
                    <field name="sr_id" string="Sales Representative"/>
                    <separator/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter name="category" string="Category" domain="[]" context="{'group_by':'prod_categ_id'}"/>
                        <filter name="scheme" string="Scheme" domain="[]" context="{'group_by':'scheme_id'}"/>
                        <filter name="month" string="Scheme Month" domain="[]" context="{'group_by':'period_id'}"/>
                        <filter name="product" string="Product" domain="[]" context="{'group_by':'product_id'}"/>
                        <filter name="manager" string="Manager" domain="[]" context="{'group_by':'manager_id'}"/>
                        <filter name="sr" string="Sales Representative" domain="[]" context="{'group_by':'sr_id'}"/>
                        <filter name="stokiest" string="Stokiest" domain="[]" context="{'group_by':'partner_id'}"/>
                    </group>
                 </search>
           </field>
       </record>
      
       <record id="action_view_scheme_entry_total" model="ir.actions.act_window">
            <field name="name">Scheme Entry Total</field>
            <field name="res_model">scheme.entry.total</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field name="context">{'search_default_month':1, 
                                   'search_default_stokiest':1}</field>
            <field name="search_view_id" ref="view_scheme_entry_total_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click here to define a Scheme Entry Total.
                </p><p>
                    Create Scheme Launch
                </p>
            </field>
        </record> 
                  
     <menuitem action="action_view_scheme_entry_total"
               id="menu_scheme_entry_total" 
               name="Scheme Entry Total"
               groups="base.group_sale_manager"
               parent="menu_rd" 
               sequence="5"/> 
               
               
           <!-- Scheme Credit note -->
           
        <record id="view_scheme_credit_note_form" model="ir.ui.view">
            <field name="name">view.scheme.credit.note.form</field>
            <field name="model">scheme.credit</field>
            <field name="arch" type="xml">
                <form string="Scheme Credit Note">
                    <header>
                         <button name="generate" string="Generate" type="object" states="draft" groups="base.group_sale_manager" class="oe_highlight"/>
                         <button name="post" string="Credit Note" type="object" states="generate" groups="base.group_sale_manager" class="oe_highlight"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"cancel":"red","progress":"blue"}'/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="period_id"/>
                                
                            </group>
                            <group>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                        </group>
                            <notebook>
                                <page string="Credit Note Line">
                                    <field name="scheme_credit_line">
                                        <tree string="Credit Note" editable="True">
                                            <field name="partner_id" domain="[('customer','=', True)]"/>
                                            <field name="amount"/>
                                        </tree>
                                    </field>
                                </page>
                            </notebook>
                     </sheet>
                 </form>
           </field>
       </record>
       
      <record id="view_scheme_credit_note_tree" model="ir.ui.view">
            <field name="name">view.scheme.credit.note.tree</field>
            <field name="model">scheme.credit</field>
            <field name="arch" type="xml">
                <tree string="Scheme Credit Note">
                    <field name="period_id"/>
                </tree>
           </field>
       </record>
       
      
       <record id="action_scheme_credit_note" model="ir.actions.act_window">
            <field name="name">Scheme Credit Note</field>
            <field name="res_model">scheme.credit</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_scheme_credit_note_tree"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click here to define a Scheme Entry Total.
                </p><p>
                    Create Scheme Launch
                </p>
            </field>
        </record> 
                  
     <menuitem action="action_scheme_credit_note"
               id="menu_scheme_credit_note" 
               name="Scheme Credit Note"
               groups="base.group_sale_manager"
               parent="menu_rd" 
               sequence="6"/> 
               
<!--sale_target_generate-->               
<!--
       <record id="view_sale_target_generate_form" model="ir.ui.view">
            <field name="name">view.sale.target.generate.form</field>
            <field name="model">sale.target.generate</field>
            <field name="arch" type="xml">
                <form string="Sale Target">
                    <header>
                         <button name="submit" string="Submit" type="object" states="draft" groups="base.group_sale_manager" class="oe_highlight"/>                        
                         <button name="to_draft" string="Set To Draft" type="object" states="done" groups="base.group_sale_manager" class="oe_highlight"/>
                         <button name="generate" string="Generate" type="object"  groups="base.group_sale_manager" class="oe_highlight" attrs="{'invisible': ['|',('state','=','draft'),('is_generated','=', True)]}"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"cancel":"red","progress":"blue"}'/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="prod_categ_id" domain="[('visible','=',True)]"/>
                                <field name="precentage"/>
                            </group>
                            <group>
                                <field name="period_id"/>
                                <field name="period_to"/>
                            </group>
                            <field name="company_id" groups="base.group_multi_company"/>
                            <field name="is_generated" invisible="1"/>
                        </group>
                     </sheet>
                 </form>
           </field>
       </record>
       
      <record id="view_sale_target_generate_tree" model="ir.ui.view">
            <field name="name">view.sale.target.generate.tree</field>
            <field name="model">sale.target.generate</field>
            <field name="arch" type="xml">
                <tree string="Scheme Line">
                    <field name="period_id"/>
                    <field name="prod_categ_id"/> 
                    <field name="state" invisible="1"/>
                 </tree>
           </field>
       </record>     
       
       <record id="action_view_sale_target_generate" model="ir.actions.act_window">
            <field name="name">Sales Target</field>
            <field name="res_model">sale.target.generate</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="view_id" ref="view_sale_target_generate_tree"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click here to define a Sale Target Generate.
                </p><p>
                    Create Sale Target
                </p>
            </field>
        </record>          
-->
        <!-- Sale target -->
<!--
        
 <record model="ir.values" id="sale_target_submit">
        <field name="name">Submit Sale Target</field>
        <field name="model_id" ref="model_sale_target">
        <field name="model">sale.target</field>
        <field name="key">action</field>
        <field name="key2">client_action_multi</field>
        <field name="value" eval=" 'ir.actions.act_window,'+str(ref('action_view_sale_target'))"/>
</record>
-->
<!--
      <record id="view_sale_target_form" model="ir.ui.view">
            <field name="name">view.sale.target.form</field>
            <field name="model">sale.target</field>
            <field name="arch" type="xml">
                <form string="Sale Target">
                    <header>
                         <button name="submit" string="Submit" type="object" states="draft" groups="base.group_sale_manager" class="oe_highlight"/>                        
                         <button name="to_draft" string="Set To Draft" type="object" states="done" groups="base.group_sale_manager" class="oe_highlight"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"cancel":"red","progress":"blue"}'/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="manager_id" domain="[('sale_manager', '=', True)]" on_change="onchange_manager_id(manager_id,company_id)"/>
                                <field name="sr_id" domain="[('sale_manager', '=', False)]" on_change="onchange_sr_id(sr_id,company_id)"/>
                                <field name="partner_id" domain="[('customer','=',True)]"/>
                                <field name="prod_categ_id" domain="[('visible','=',True)]" on_change="onchange_prod_categ_id(prod_categ_id,company_id)"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                            <group>
                                <field name="period_id"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Sale Target Line">
                                <field name="sale_target_line">
                                    <tree string="Scheme Line" editable="bottom">
                                        <field name="product_id" on_change="onchange_product_id(product_id)" domain="[('categ_id','=',parent.prod_categ_id)]"/>
                                        <field name="uom_id"/>
                                        <field name="amount"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                     </sheet>
                 </form>
           </field>
       </record>
       
      <record id="view_sale_target_tree" model="ir.ui.view">
            <field name="name">view.sale.target.tree</field>
            <field name="model">sale.target</field>
            <field name="arch" type="xml">
                <tree string="Scheme Line">
                    <field name="period_id"/>
                    <field name="manager_id"/>
                    <field name="sr_id"/>
                    <field name="prod_categ_id"/>
                    <field name="partner_id"/>
                    <field name="state" invisible="1"/>
                 </tree>
           </field>
       </record>
       
      <record id="view_sale_target_search" model="ir.ui.view">
            <field name="name">view.sale.target.search</field>
            <field name="model">sale.target</field>
            <field name="arch" type="xml">
                <search string="Scheme Entry">
                    <field name="prod_categ_id" string="Category"/>
                    <field name="partner_id" string="Customer"/>
                    <field name="sr_id" string="Sales Representative"/>
                    <separator/>
                    <filter string="Submitted" domain="[('state','=','done')]" help="Sales Order done"/>
                    <filter string="Submit" domain="[('state','=','draft')]" help="Sales Order done"/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter string="Category" domain="[]" context="{'group_by':'prod_categ_id'}"/>
                        <filter string="Period" domain="[]" context="{'group_by':'period_id'}"/>
                        <filter string="Manager" domain="[]" context="{'group_by':'manager_id'}"/>
                        <filter string="Sales Representative" domain="[]" context="{'group_by':'sr_id'}"/>
                        <filter string="Stokiest" domain="[]" context="{'group_by':'partner_id'}"/>
                    </group>
                 </search>
           </field>
       </record>
      
       <record id="action_view_sale_target" model="ir.actions.act_window">
            <field name="name">Sales Target</field>
            <field name="res_model">sale.target</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="view_id" ref="view_sale_target_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click here to define a Sale Target.
                </p><p>
                    Create Sale Target
                </p>
            </field>
        </record> 
     
                
     <menuitem 
               id="menu_sale_target" 
               name="Sale Target"
               groups="base.group_sale_manager"
               parent="menu_rd" 
               sequence="2"/> 
     <menuitem action="action_view_sale_target_generate"
               id="menu_sale_target_generate" 
               name="Sale Target Generate"
               groups="base.group_sale_manager"
               parent="menu_sale_target" 
               />             
     <menuitem action="action_view_sale_target"
               id="menu_sale_target_view" 
               name="Sale Target"
               groups="base.group_sale_manager"
               parent="menu_sale_target" 
               />  
-->
                              
               
       <!--Sales Entry --> 
       
    <record id="view_sale_entry_form" model="ir.ui.view">
            <field name="name">view.sale.entry.form</field>
            <field name="model">sale.entry</field>
            <field name="arch" type="xml">
                <form string="Sale Entry">
                    <header>
                         <button name="submit" string="Submit" type="object" states="draft" class="oe_highlight"/>
                         <button name="approve" string="Approve" type="object" states="waiting" groups="base.group_sale_manager" class="oe_highlight"/>
                         <button name="refuse" string="Refuse" type="object" states="waiting" groups="base.group_sale_manager" class="oe_highlight"/>
                         <button name="cancel" string="Cancel" type="object" states="done" groups="fnet_aea_sale.group_sale_entry" class="oe_highlight"/>
                         <button name="reset_to_draft" string="Reset To Draft" type="object" states="cancel" groups="fnet_aea_sale.group_sale_entry" class="oe_highlight"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"cancel":"red","progress":"blue"}'/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="sr_id" domain="[('sale_manager', '=', False)]" on_change="onchange_sr_id(sr_id,company_id)"/>
                                <field name="partner_id" domain="[('customer','=',True)]" on_change="onchange_partner_id(partner_id,company_id)"/>
                                <field name="date_from" on_change="onchange_prod_categ_id(prod_categ_id, sr_id, partner_id, company_id, date_from)"/>
                                <field name="prod_categ_id" domain="[('visible','=',True)]" on_change="onchange_prod_categ_id(prod_categ_id, sr_id, partner_id, company_id, date_from)"/>
                                
                            </group>
                            <group>
							   <field name="district_id" invisible="1"/>
                               <field name="company_id" groups="base.group_multi_company"/> 
                            </group>
                        </group>
                        <notebook>
                            <page string="Sale Entry Line">
                                <field name="sale_entry_line">
                                    <tree string="Scheme Line" editable="bottom">
                                        <field name="product_id" on_change="onchange_product_id(product_id)" domain="[('categ_id','=',parent.prod_categ_id)]"/>
                                        <field name="uom_id"/>
                                        <field name="current_stock" readonly="0"/>
                                        <field name="sale_stock"/>
                                        <field name="amount" on_change="onchange_amount(current_stock,sale_stock,amount)"/>
<!--
                                        <field name="closing_stock"/>
-->
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                     </sheet>
                 </form>
           </field>
       </record>
       
      <record id="view_sale_entry_tree" model="ir.ui.view">
            <field name="name">view.sale.entry.tree</field>
            <field name="model">sale.entry</field>
            <field name="arch" type="xml">
                <tree string="Sale Entry">
                    <field name="date_from"/>
                    <field name="sr_id"/>
                    <field name="prod_categ_id"/>
                    <field name="partner_id"/>
                    <field name="state" invisible="1"/>
                 </tree>
           </field>
       </record>
       
      <record id="view_sale_entry_search" model="ir.ui.view">
            <field name="name">view.sale.entry.search</field>
            <field name="model">sale.entry</field>
            <field name="arch" type="xml">
                <search string="Sale Entry">
                    <field name="prod_categ_id" string="Category"/>
                    <field name="partner_id" string="Customer"/>
                    <field name="sr_id" string="Sales Representative"/>
                    <field name="district_id" string="District"/>
                    <separator/>
                    <filter string="Submitted" domain="[('state','=','done')]" help="Sales Order done"/>
                    <filter string="Submit" domain="[('state','=','draft')]" help="Sales Order done"/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter string="Category" domain="[]" context="{'group_by':'prod_categ_id'}"/>
                        <filter string="Period" domain="[]" context="{'group_by':'date_from'}"/>
                        <filter string="Sales Representative" domain="[]" context="{'group_by':'sr_id'}"/>
                        <filter string="Stokiest" domain="[]" context="{'group_by':'partner_id'}"/>
                        <filter string="District" domain="[]" context="{'group_by':'district_id'}"/>
                    </group>
                 </search>
           </field>
       </record>
      
       <record id="action_view_sale_entry" model="ir.actions.act_window">
            <field name="name">Sales Entry</field>
            <field name="res_model">sale.entry</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
			<field name="context">{'readonly_by_pass': True}</field>
            <field name="view_id" ref="view_sale_entry_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click here to define a Sale Entry.
                </p><p>
                    Create Sale Target
                </p>
            </field>
        </record> 
     
                
     <menuitem action="action_view_sale_entry"
               id="menu_sale_entry" 
               name="Sale Entry"
               groups="base.group_sale_manager"
               parent="menu_rd" 
               sequence="3"/>   
               
     <!--Sale Open -->
     
     <record id="view_sale_open_form" model="ir.ui.view">
            <field name="name">view.sale.open.form</field>
            <field name="model">sale.open</field>
            <field name="arch" type="xml">
                <form string="Sale open">
                    <header>
                         <button name="submit" string="Submit" type="object" states="draft" groups="base.group_sale_manager" class="oe_highlight"/>
                        <field name="state" widget="statusbar" statusbar_visible="draft,done" statusbar_colors='{"cancel":"red","progress":"blue"}'/>
                    </header>
                    <sheet>
                        <group>
                            <group>
                                <field name="sr_id" domain="[('sale_manager', '=', False)]" on_change="onchange_sr_id(sr_id,company_id)"/>
                                <field name="partner_id" domain="[('customer','=',True)]"/>
                                <field name="prod_categ_id" domain="[('visible','=',True)]" on_change="onchange_prod_categ_id(prod_categ_id,company_id)"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                            <group>
                                <field name="date_from"/>
                            </group>
                        </group>
                        <notebook>
                            <page string="Sale Open Stock">
                                <field name="sale_open_line">
                                    <tree string="Scheme Line" editable="bottom">
                                        <field name="product_id" on_change="onchange_product_id(product_id)" domain="[('categ_id','=',parent.prod_categ_id)]"/>
                                        <field name="uom_id"/>
                                        <field name="amount"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                     </sheet>
                 </form>
           </field>
       </record>
       
      <record id="view_sale_open_tree" model="ir.ui.view">
            <field name="name">view.sale.open.tree</field>
            <field name="model">sale.open</field>
            <field name="arch" type="xml">
                <tree string="Stock Open Line">
                    <field name="date_from"/>
                    <field name="sr_id"/>
                    <field name="partner_id"/>
                    <field name="prod_categ_id"/>
                    <field name="state" invisible="1"/>
                 </tree>
           </field>
       </record>
       
      <record id="view_sale_open_search" model="ir.ui.view">
            <field name="name">view.sale.open.search</field>
            <field name="model">sale.open</field>
            <field name="arch" type="xml">
                <search string="Open Stock">
                    <field name="prod_categ_id" string="Category"/>
                    <field name="partner_id" string="Customer"/>
                    <field name="sr_id" string="Sales Representative"/>
                    <separator/>
                    <filter string="Submitted" domain="[('state','=','done')]" help="Sales Order done"/>
                    <filter string="Sbmit" domain="[('state','=','draft')]" help="Sales Order done"/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter string="Category" domain="[]" context="{'group_by':'prod_categ_id'}"/>
                        <filter string="Scheme Month" domain="[]" context="{'group_by':'date_from'}"/>
                        <filter string="Sales Representative" domain="[]" context="{'group_by':'sr_id'}"/>
                        <filter string="Stokiest" domain="[]" context="{'group_by':'partner_id'}"/>
                    </group>
                 </search>
           </field>
       </record>
      
       <record id="action_view_sale_open" model="ir.actions.act_window">
            <field name="name">Sales Open Stock</field>
            <field name="res_model">sale.open</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
            <field name="view_id" ref="view_sale_open_search"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click here to define a Sale Open.
                </p><p>
                    Create Sale Open
                </p>
            </field>
        </record> 
     
                
     <menuitem action="action_view_sale_open"
               id="menu_sale_open" 
               name="Sale Open Stock"
               groups="base.group_sale_manager"
               parent="menu_rd" 
               sequence="2"/>   
     
         
  </data>          
</openerp>


